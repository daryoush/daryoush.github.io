---
layout: post
title: Monads vs Objects
date: '2013-09-17T18:14:00.001-07:00'
author: daryoush
tags: 
modified_time: '2013-09-18T02:00:02.231-07:00'
blogger_id: tag:blogger.com,1999:blog-5623577383635787454.post-4474743960717247944
blogger_orig_url: http://onfp.blogspot.com/2013/09/the-examples-in-documentation-of.html
---

<div class="tr_bq">The examples in documentation of <a href="http://www.haskell.org/haskellwiki/NewMonads/MonadRandom">MonadRandom</a>&nbsp;does a good job on how monads are useful. &nbsp; I have it cut and pasted here:</div><br /><br /><blockquote>There is some correspondence between notions in programming and in mathematics:</blockquote><blockquote><table style="background-color: white; color: black; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px; margin: 0px; padding: 0px;"><tbody style="margin: 0px; padding: 0px;"><tr style="margin: 0px; padding: 0px;"><td style="margin: 0px; padding: 0px 0.5em;">random generator</td><td style="margin: 0px; padding: 0px 0.5em;">~</td><td style="margin: 0px; padding: 0px 0.5em;">random variable / probabilistic experiment</td></tr><tr style="margin: 0px; padding: 0px;"><td style="margin: 0px; padding: 0px 0.5em;">result of a random generator</td><td style="margin: 0px; padding: 0px 0.5em;">~</td><td style="margin: 0px; padding: 0px 0.5em;">outcome of a probabilistic experiment<span style="background-color: transparent;">&nbsp;</span></td></tr></tbody></table></blockquote><blockquote>Thus the signature&nbsp;</blockquote><blockquote>rx <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">::</span> <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span>MonadRandom m<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">,</span> Random a<span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span> <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">=&gt;</span> m a&nbsp;</blockquote><blockquote><span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">can be considered as "</span>rx<span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">&nbsp;is a random variable". In the do-notation the line</span>&nbsp;</blockquote><blockquote>x &lt;-<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">&nbsp;rx&nbsp;<!-----><!-----></span></blockquote><blockquote><span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">means that "</span>x<span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">&nbsp;is an outcome of&nbsp;</span>rx<span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">".</span></blockquote><blockquote><span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;"></span>In a language without higher order functions and using a random generator "function" it is not possible to work with random variables, it is only <b>possible to compute with outcomes</b>, e.g.&nbsp;<code style="background-color: white; line-height: 15.555556297302246px; margin: 0px; padding: 0px;">rand()+rand()</code>. In a language where random generators are implemented as<b> objects, computing with random variables is possible but still cumbersome [<i>as you need to wrap the generators (Composition Pattern) in object and perform the computation as methods of the new object</i></b>.]&nbsp;</blockquote><blockquote>In Haskell we have both options either computing with outcomes</blockquote><blockquote><span class="kw1" style="color: #0066cc; font-weight: bold; margin: 0px; padding: 0px;">do</span> x&nbsp;<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;"><span style="color: black; font-weight: normal;">&lt;</span>- &nbsp;rx<br />   y&nbsp;<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;"><span style="color: black; font-weight: normal;">&lt;-</span>&nbsp;ry<br />   <span class="kw3" style="color: rgb(85, 68, 136) !important; font-weight: bold; margin: 0px; padding: 0px;">return</span> <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span>x<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">+</span>y<span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span><!-----><!-----></span><!-----><!-----></span></blockquote><blockquote><span class="br0" style="color: green; margin: 0px; padding: 0px;"></span>or computing with random variables</blockquote><blockquote>liftM2 <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">+</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span> rx ry&nbsp;</blockquote><blockquote><span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">This means that&nbsp;</span>liftM<span style="background-color: white; font-family: 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 24.44444465637207px;">&nbsp;like functions convert ordinary arithmetic into&nbsp;</span>random variable arithmetic [<i>Since you can't do lift in OO, you would need to write your own version of each operation you like to support]</i>. But there is also some arithmetic on random variables which can not be performed on outcomes [<i>Or would be adhoc in OO]</i>. For example, given a function that repeats an action until the result fulfills a certain property (I wonder if there is already something of this kind in the standard libraries)</blockquote><br /><blockquote>untilM <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">::</span> <span class="kw4" style="color: #cccc00; font-weight: bold; margin: 0px; padding: 0px;">Monad</span> m <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">=&gt;</span> <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span>a <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">-&gt;</span> <span class="kw4" style="color: #cccc00; font-weight: bold; margin: 0px; padding: 0px;">Bool</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span> <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">-&gt;</span> m a <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">-&gt;</span> m a<br />untilM p m <span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">=</span>     <span class="kw1" style="color: #0066cc; font-weight: bold; margin: 0px; padding: 0px;">do</span> x&nbsp;<span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;"><span style="color: black; font-weight: normal;">&lt;-</span>&nbsp;m<br />        <span class="kw1" style="color: #0066cc; font-weight: bold; margin: 0px; padding: 0px;">if</span> p x <span class="kw1" style="color: #0066cc; font-weight: bold; margin: 0px; padding: 0px;">then</span> <span class="kw3" style="color: rgb(85, 68, 136) !important; font-weight: bold; margin: 0px; padding: 0px;">return</span> x <span class="kw1" style="color: #0066cc; font-weight: bold; margin: 0px; padding: 0px;">else</span> untilM p m<!-----><!-----></span></blockquote><br /><blockquote>we can suppress certain outcomes of an experiment. E.g. if<br />getRandomR <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">-</span><span class="nu0" style="color: red; margin: 0px; padding: 0px;">10</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">,</span><span class="nu0" style="color: red; margin: 0px; padding: 0px;">10</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span>is a uniformly distributed random variable between −10 and 10, then<br />untilM <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span><span class="nu0" style="color: red; margin: 0px; padding: 0px;">0</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">/=</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span> <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span>getRandomR <span class="br0" style="color: green; margin: 0px; padding: 0px;">(</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">-</span><span class="nu0" style="color: red; margin: 0px; padding: 0px;">10</span><span class="sy0" style="color: #339933; font-weight: bold; margin: 0px; padding: 0px;">,</span><span class="nu0" style="color: red; margin: 0px; padding: 0px;">10</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span><span class="br0" style="color: green; margin: 0px; padding: 0px;">)</span>is a random variable with a uniform distribution of {−10, …, −1, 1, …, 10}.</blockquote>